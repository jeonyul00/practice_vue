<!-- options api -->
<!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<div id="app">
  <p>{{ count }}</p>
  <button v-on:click="addCount">+</button>
  <button @click="minusCount">-</button>
</div>

<script>
  const { createApp } = Vue;

  createApp({
    data() {
      return {
        count: 0,
      };
    },
    methods: {
      addCount() {
        this.count++;
      },
      minusCount() {
        this.count--;
      },
    },
  }).mount("#app");
</script> -->

<!-- composition api -->
<!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<div id="app">
  <p>{{ count }}</p>
  <button v-on:click="addCount">+</button>
  <button @click="minusCount">-</button>
</div>

<script>
  const { createApp, ref } = Vue;

  createApp({
    setup() {
      const count = ref(0);

      const addCount = () => {
        count.value++;
      };

      const minusCount = () => {
        count.value--;
      };

      return {
        count,
        addCount,
        minusCount,
      };
    },
  }).mount("#app");
</script> -->

<!-- practice -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>title</title>
  </head>
  <body>
    <div id="app">
      <div>{{value}}</div>
      <button @click="add">+</button>
      <button v-on:click="minus">-</button>
    </div>
  </body>

  <script type="module">
    import {
      createApp,
      ref,
    } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

    createApp({
      setup() {
        const value = ref(0);

        const add = () => {
          value.value++;
        };

        const minus = () => {
          value.value--;
        };

        return {
          value,
          add,
          minus,
        };
      },
    }).mount("#app");
  </script>
</html>

<!-- 
    왜 우리가 일반 변수 대신 .value가 있는 ref를 필요로 하는지 궁금해하실 수 있습니다. 이를 설명하기 위해서는 Vue의 반응성 시스템이 어떻게 작동하는지 간단하게 논의해야 합니다.
    템플릿에서 ref를 사용하고 나중에 ref의 값을 변경하면, Vue는 자동으로 이 변경을 감지하고 DOM을 적절하게 업데이트합니다. 이는 의존성 추적 기반의 반응형 시스템으로 가능합니다. 컴포넌트가 처음 렌더링될 때, Vue는 렌더링 과정에서 사용된 모든 ref를 추적합니다. 나중에 ref가 변경되면, 이를 추적하는 컴포넌트에 대해 재렌더링을 트리거합니다.
    표준 JavaScript에서는 일반 변수의 접근이나 변형을 감지하는 방법이 없습니다. 하지만, getter와 setter 메서드를 사용하여 객체의 속성의 get 및 set 연산을 가로챌 수 있습니다.
    .value 속성은 Vue에게 ref가 액세스되거나 변경되었을 때를 감지할 기회를 줍니다. 내부적으로, Vue는 getter에서 추적을 수행하고, setter에서 트리거를 수행합니다. 개념적으로, ref를 다음과 같은 객체라고 생각할 수 있습니다:
-->
